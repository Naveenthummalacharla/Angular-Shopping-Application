<div class="container-fluid w-100">
  <div class="row">
    <div class="back-animation">
      <div class="content text-black fs-3">
        <div
          class="col-md-12 mt-4 fs-4 mb-5 p-3 text-center bi bi-bag-plus-fill">
          <b class="fs-3"><i> Shopping Cart </i></b>
          <!-- <button  mat-raised-button color="accent" class="btn btn-success fs-5 offset-9" (click)="buyproducts()">Buy Now</button>
                  </div> -->
        </div>
      </div>
      <div class="col-8" style="margin-left: 20%">
        <div class="row">
          <div class="col-md-12" *ngFor="let item of CartItems">
            <div class="p-5 m-2 d-flex shadow rounded-2">
                <div class="col-md-2 me-5">
                    <a [routerLink]="['/viewproduct/', item.id, 'cart']">
                        <img class="product-image"
                            [src]="item.firstproductImageUrl"
                            style="width: 158px; height: 160px"
                            alt=""
                        />
                    </a>
                </div>
                <div>
                    <h5 class="fs-5">
                        <a [routerLink]="['/viewproduct/', item.id, 'cart']">{{ item.productName }}</a>
                    </h5>
                    <div class="fs-6 text-warning">Size:{{ item.sarilength }}</div>
                    <span class="mt-1 ms-3 fs-6 me-3"><del>{{ item.productPrice | currency : "INR" }}</del></span>
                    <span class="fs-4 produc-details">{{ calculatePrice(item)| currency : "INR" }}</span>
                    <span class="ms-2 text-success produc-details">{{ item.off }}% off</span>
                    <div class="mt-3 d-flex">
                        <div class="itemqty d-flex justify-content-between p-3" style="cursor: pointer;">
                            <i class="bi bi-plus-lg fs-5" (click)="Increaseqty(item)"></i>
                            <input class="border-0 small-input" [value]="item.itemqty" type="text">
                            <i class="bi bi-dash fs-5" (click)="Decreaseqty(item)"></i>
                        </div>       
                        <button mat-raised-button (click)="remove(item)" class="text-danger ms-4 mt-2">
                            <i class="fa fa-trash"></i> Remove
                        </button>
                    </div>
                    <div class="mt-2">
                      <span class="text-danger fs-6 ms-3" *ngIf="item.itemqtyErrorMsg"><i>{{item.itemqtyErrorMsg }}</i></span>
                  </div> 
                </div>
            </div>
        </div>
        
        </div>
      </div>
      <div *ngIf="!CartItems.length">
       <div class="text-center">
        <div class="fs-5 mb-0">Your Cart is currently Empty.</div>
        <div> <img src="assets\cart logo.jpg" height="200px" width="20%"></div>
        <div><button class="btn btn-dark text-white" [routerLink]= "['/productlist', 'all']">Shop Now</button></div>
       </div>
      </div>
      <div *ngIf="CartItems.length">
      <div class="col-8 mt-5" style="margin-left: 20%">
        <div class="form-floating">
          <textarea
            class="form-control"
            placeholder="Special instructions for seller"
            id="floatingTextarea2"
            style="height: 100px"
            [(ngModel)]="instruction"
          ></textarea>
          <label for="floatingTextarea2">Special instructions for seller</label>
        </div>
        <button class="btn btn-outline-secondary mt-5" (click)="continueshopping()">
          <i class="bi bi-skip-forward-fill"></i> Continue Shopping
        </button>
      </div>
      <div class="col-4" style="margin-left: 63%">
        <div class="fs-5">SubTotal : {{total |currency:"INR"}}</div>
        <div class="fs-5 mt-2">Shipping&taxes calculated at checkout</div>
        <div class="d-flex mt-4">
          <div class="me-3">
            <button class="btn btn-outline-success" (click)="UpdateCart()">
              <i class=""></i> Update Cart
            </button>
          </div>
          <div>
            <button class="btn btn-outline-warning" (click)="placeOrder()">
              Check Out <i class="bi bi-caret-right-fill"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
      <!-- <mat-card class="col-md-4 details mt-3">
            <mat-card-header class="p-2 text-center heading justify-content-between">
               <span class="mt-2"><i class="bi bi-person-fill"></i> Customer Details </span>
                <button mat-raised-button class="ms-5 mt-1 text-success fs-5"style="width:110px" (click)="resetfrm()">Reset</button>
            </mat-card-header>
            <mat-card-content class="scroll-container">  
            <div class="d-flex col-md-11 mt-3 ms-3">
                <mat-form-field appearance="fill" class=" w-100 ">
                    <mat-label>Name</mat-label>
                    <input matInput placeholder="EnterName" (input)="namevalidation()" [(ngModel)]="name">
                    <mat-icon matSuffix>person</mat-icon>
                    <mat-hint *ngIf="nameError" class="text-danger">{{this.nameError}}</mat-hint>
                  </mat-form-field>
                    </div>
                  <div class="d-flex col-md-11 ms-3">
                  <mat-form-field appearance="fill" class=" w-100 ">
                    <mat-label>PhoneNo</mat-label>
                    <input matInput placeholder="Enter Number" (input)="numbervalidation()" [(ngModel)]="mobileno">
                    <mat-icon matSuffix>phone</mat-icon>
                    <mat-hint *ngIf="numberError" class="text-danger">{{this.numberError}}</mat-hint>
                  </mat-form-field>
            </div>
             <div class="d-flex col-md-11 ms-3">
                <mat-form-field appearance="fill" class=" w-100 ">
                    <mat-label>Mail</mat-label>
                    <input matInput placeholder="Enter Mail" (input)="mailvalidation()" [(ngModel)]="mail">
                    <mat-icon matSuffix>mail</mat-icon>
                    <mat-hint *ngIf="mailError" class="text-danger">{{this.mailError}}</mat-hint>
                  </mat-form-field>
                </div>
            <div class="d-flex col-md-11 ms-3">
                <mat-form-field appearance="fill" class=" w-100 ">
                    <mat-label>Village</mat-label>
                    <input matInput placeholder="Enter Village" (input)="villagevalidation()" [(ngModel)]="village">
                    <mat-icon matSuffix>terrain</mat-icon>
                    <mat-hint *ngIf="villageError" class="text-danger">{{this.villageError}}</mat-hint>
                  </mat-form-field>
                 </div>
            <div class="d-flex col-md-11 ms-3">
                <mat-form-field appearance="fill" class=" w-100 ">
                    <mat-label>Do.no</mat-label>
                    <input matInput placeholder="Enter Dono" (input)="donovalidation()" [(ngModel)]="dono">
                    <mat-icon matSuffix>dono</mat-icon>
                    <mat-hint *ngIf="donoError" class="text-danger">{{this.donoError}}</mat-hint>
                  </mat-form-field>
            </div>
            <div class="d-flex col-md-11 ms-3">
                  <mat-form-field appearance="fill" class=" w-100 ">
                    <mat-label>PinCode</mat-label>
                    <input matInput placeholder="Enter Pincode" (input)="pincodevalidation()" [(ngModel)]="pincode">
                    <mat-icon matSuffix>pincode</mat-icon>
                    <mat-hint *ngIf="pincodeError" class="text-danger">{{this.pincodeError}}</mat-hint>
                  </mat-form-field>
            </div>
            <div class="d-flex col-md-11 ms-3">
                 <mat-form-field appearance="fill" class=" w-100 ">
                    <mat-label>City</mat-label>
                    <input matInput placeholder="Enter City" (input)="cityvalidation()" [(ngModel)]="city">
                    <mat-icon matSuffix>location_city</mat-icon>
                    <mat-hint *ngIf="cityError" class="text-danger">{{this.cityError}}</mat-hint>
                  </mat-form-field>
            </div>
            <div class="d-flex col-md-11 ms-3">
                 <mat-form-field appearance="fill" class=" w-100 ">
                    <mat-label>State</mat-label>
                    <input matInput placeholder="Enter State" (input)="statevalidation()" [(ngModel)]="state">
                    <mat-icon matSuffix>check</mat-icon>
                    <mat-hint *ngIf="stateError" class="text-danger">{{this.stateError}}</mat-hint>
                  </mat-form-field>
            </div>
            </mat-card-content>
          </mat-card>      -->
    </div>
  </div>
</div>
